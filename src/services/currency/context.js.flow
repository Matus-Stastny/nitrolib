// @flow strict
import * as React from "react";

import getCurrenciesCall from "./services/getCurrencies";
import getGeoCountryCall from "./services/getGeoCountry";
import type { Currency, Currencies } from "../../records/Currency";
import type { Countries } from "../../records/Country";

type Props = {|
  whitelist: string[],
  countries: Countries,
  affiliate: string,
  ip: string,
  initialCurrency: string,
  langCurrency: string,
  children: React.Node,
  onChange: string => void,
  getCurrencies?: typeof getCurrenciesCall,
  getGeoCountry?: typeof getGeoCountryCall,
|};

type Value = {|
  available: Currencies,
  currency: Currency,
  setCurrency: (code: string) => void,
|};

declare export var Provider: React.ComponentType<Props>;
declare export var Consumer: React.ComponentType<{
  children: (props: Value) => React.Node,
}>;
